<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FradCard - Wallet Digital</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #d32f2f;
      --primary-dark: #b71c1c;
      --secondary: #212121;
      --secondary-dark: #000000;
      --dark: #121212;
      --light: #f5f5f5;
      --danger: #d32f2f;
      --success: #388e3c;
      --warning: #f57c00;
      --gray: #9e9e9e;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #121212, #000000);
      color: #e0e0e0;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    /* Preloader */
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #000000, #121212);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: white;
      transition: opacity 0.5s ease-out;
    }
    
    .loader {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      border-top: 5px solid var(--primary);
      animation: spin 1.5s linear infinite;
      margin-bottom: 30px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .preloader-content {
      text-align: center;
      max-width: 600px;
      padding: 20px;
    }
    
    .preloader-content h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      background: linear-gradient(90deg, #d32f2f, #b71c1c);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .preloader-content p {
      margin: 15px 0;
      font-size: 1.1rem;
      line-height: 1.6;
    }
    
    .features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }
    
    .feature {
      background: rgba(255, 255, 255, 0.05);
      padding: 15px;
      border-radius: 10px;
      width: 160px;
      text-align: center;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(211, 47, 47, 0.2);
    }
    
    .feature i {
      font-size: 2rem;
      margin-bottom: 10px;
      color: var(--primary);
    }
    
    /* Container principal */
    .container {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
    }
    
    /* Sistema de autenticación con flip */
    .auth-container {
      perspective: 1500px;
      width: 400px;
      height: 500px;
      margin: 0 auto;
      position: relative;
    }
    
    .auth-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.8s;
      transform-style: preserve-3d;
    }
    
    .auth-front, .auth-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      background: #1e1e1e;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(211, 47, 47, 0.1);
    }
    
    .auth-back {
      transform: rotateY(180deg);
    }
    
    .flipped {
      transform: rotateY(180deg);
    }
    
    .auth-logo {
      margin-bottom: 25px;
    }
    
    .auth-logo h1 {
      font-size: 28px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .form-group {
      text-align: left;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--light);
    }
    
    .input-with-icon {
      position: relative;
    }
    
    .input-with-icon i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }
    
    .input-with-icon input {
      width: 100%;
      padding: 15px 15px 15px 45px;
      border: 2px solid #333;
      border-radius: 10px;
      font-size: 16px;
      transition: all 0.3s;
      background-color: #2d2d2d;
      color: var(--light);
    }
    
    .input-with-icon input:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.2);
    }
    
    .btn {
      display: inline-block;
      padding: 15px 20px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      text-align: center;
      text-decoration: none;
      transition: all 0.3s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 7px 14px rgba(0, 0, 0, 0.4);
      background: linear-gradient(90deg, var(--primary-dark), var(--primary));
    }
    
    .btn-block {
      display: block;
      width: 100%;
    }
    
    .auth-switch {
      margin-top: 25px;
      color: var(--gray);
    }
    
    .auth-switch a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      cursor: pointer;
    }
    
    /* Dashboard */
    #dashboard {
      display: none;
      width: 100%;
    }
    
    .dashboard-header {
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      color: white;
      padding: 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3);
    }
    
    .wallet-card {
      background: linear-gradient(135deg, var(--primary), var(--secondary-dark));
      color: white;
      padding: 30px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3);
    }
    
    .wallet-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }
    
    .action-card {
      background: #1e1e1e;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      border: 1px solid rgba(211, 47, 47, 0.1);
    }
    
    .action-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
      border-color: rgba(211, 47, 47, 0.3);
    }
    
    .action-card i {
      font-size: 2.5rem;
      margin-bottom: 15px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    /* Mensajes */
    .message {
      padding: 15px;
      margin: 15px 0;
      border-radius: 10px;
      text-align: center;
    }
    
    .error {
      background-color: rgba(211, 47, 47, 0.1);
      color: #ff6659;
      border-left: 4px solid var(--danger);
    }
    
    .success {
      background-color: rgba(56, 142, 60, 0.1);
      color: #69f0ae;
      border-left: 4px solid var(--success);
    }
    
    .warning {
      background-color: rgba(245, 124, 0, 0.1);
      color: #ffab40;
      border-left: 4px solid var(--warning);
    }
    
    .info {
      background-color: rgba(33, 150, 243, 0.1);
      color: #40c4ff;
      border-left: 4px solid #2196f3;
    }
    
    /* Secciones adicionales */
    .wallet-address {
      background-color: #2d2d2d;
      padding: 15px;
      border-radius: 10px;
      margin: 20px 0;
      font-family: monospace;
      word-break: break-all;
      text-align: center;
      font-size: 14px;
      border: 1px dashed #616161;
      color: var(--light);
    }
    
    .copy-btn {
      margin-top: 10px;
      padding: 8px 15px;
      background-color: var(--dark);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .copy-btn:hover {
      background-color: var(--primary);
    }
    
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
    }
    
    .status-active {
      background-color: var(--success);
    }
    
    .status-inactive {
      background-color: var(--danger);
    }
    
    .status-pending {
      background-color: var(--warning);
    }
    
    .activation-process {
      margin-top: 30px;
      padding: 25px;
      background-color: #1e1e1e;
      border-radius: 12px;
      border-left: 4px solid var(--warning);
    }
    
    .support-info {
      margin-top: 40px;
      padding: 25px;
      background: linear-gradient(135deg, #2d2d2d, #1e1e1e);
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(211, 47, 47, 0.1);
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .auth-container {
        width: 100%;
        height: auto;
        perspective: none;
      }
      
      .auth-inner {
        transform: none !important;
        height: auto;
      }
      
      .auth-front, .auth-back {
        position: relative;
        transform: none;
        height: auto;
        margin-bottom: 30px;
      }
      
      .wallet-actions {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Preloader -->
  <div id="preloader">
    <div class="loader"></div>
    <div class="preloader-content">
      <h1>FradCard - La Shop Más Top del Momento</h1>
      <p><i class="fas fa-shield-alt"></i> 100% Anónimos - Transacciones Seguras</p>
      <p><i class="fas fa-clock"></i> Soporte 24/7 - Asistencia Inmediata</p>
      <p><i class="fas fa-money-bill-wave"></i> Reembolso del 50% si la tarjeta no funciona</p>
      <p><i class="fas fa-exclamation-circle"></i> Condición: Debes reportar dentro de las 3 horas posteriores a la compra</p>
      
      <div class="features">
        <div class="feature">
          <i class="fas fa-lock"></i>
          <p>Seguro</p>
        </div>
        <div class="feature">
          <i class="fas fa-bolt"></i>
          <p>Rápido</p>
        </div>
        <div class="feature">
          <i class="fas fa-user-secret"></i>
          <p>Anónimo</p>
        </div>
        <div class="feature">
          <i class="fas fa-headset"></i>
          <p>Soporte 24/7</p>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Sistema de Autenticación con Flip -->
    <div id="auth-system">
      <div class="auth-container">
        <div class="auth-inner" id="auth-inner">
          <!-- Front: Inicio de Sesión -->
          <div class="auth-front">
            <div class="auth-logo">
              <h1><i class="fas fa-wallet"></i> FradCard Wallet</h1>
              <p>Ingresa a tu cuenta</p>
            </div>
            
            <div id="auth-message" class="message" style="display: none;"></div>
            
            <form class="auth-form" id="login-form">
              <div class="form-group">
                <label for="login-email">Correo electrónico</label>
                <div class="input-with-icon">
                  <i class="fas fa-envelope"></i>
                  <input type="email" id="login-email" required>
                </div>
              </div>
              
              <div class="form-group">
                <label for="login-password">Contraseña</label>
                <div class="input-with-icon">
                  <i class="fas fa-lock"></i>
                  <input type="password" id="login-password" required>
                </div>
              </div>
              
              <button type="submit" class="btn btn-block">
                <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
              </button>
            </form>
            
            <div class="auth-switch">
              ¿No tienes cuenta? <a id="switch-to-register">Regístrate aquí</a>
            </div>
          </div>
          
          <!-- Back: Registro -->
          <div class="auth-back">
            <div class="auth-logo">
              <h1><i class="fas fa-user-plus"></i> Crear Cuenta</h1>
              <p>Únete a nuestra comunidad</p>
            </div>
            
            <form class="auth-form" id="register-form">
              <div class="form-group">
                <label for="register-email">Correo electrónico</label>
                <div class="input-with-icon">
                  <i class="fas fa-envelope"></i>
                  <input type="email" id="register-email" required>
                </div>
              </div>
              
              <div class="form-group">
                <label for="register-password">Contraseña</label>
                <div class="input-with-icon">
                  <i class="fas fa-lock"></i>
                  <input type="password" id="register-password" required>
                </div>
              </div>
              
              <div class="form-group">
                <label for="register-confirm">Confirmar Contraseña</label>
                <div class="input-with-icon">
                  <i class="fas fa-lock"></i>
                  <input type="password" id="register-confirm" required>
                </div>
              </div>
              
              <button type="submit" class="btn btn-block">
                <i class="fas fa-user-plus"></i> Crear Cuenta
              </button>
            </form>
            
            <div class="auth-switch">
              ¿Ya tienes cuenta? <a id="switch-to-login">Inicia sesión aquí</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Dashboard Principal -->
    <div id="dashboard">
      <header class="dashboard-header">
        <h1><i class="fas fa-wallet"></i> Mi Wallet FradCard</h1>
        <div>
          <span id="account-status" class="status-indicator status-inactive"></span>
          <span id="status-text">Cuenta Inactiva</span>
          <button id="logout-btn" class="btn btn-danger" style="margin-left: 20px;">
            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
          </button>
        </div>
      </header>

      <div class="wallet-card">
        <h3>Saldo Actual</h3>
        <h2 id="wallet-balance">$0.00</h2>
        <div id="active-status" style="margin-top: 10px; display: none;">
          <span class="status-indicator status-active"></span>
          <span>Cuenta Activada - Disfruta de FradCard Shop</span>
        </div>
      </div>

      <div class="wallet-actions">
        <div class="action-card" id="recharge-btn">
          <i class="fas fa-money-bill-wave"></i>
          <h3>Recargar Wallet</h3>
          <p>Agregar fondos a tu cuenta</p>
        </div>
        <div class="action-card" id="activate-account-btn">
          <i class="fas fa-bolt"></i>
          <h3>Activar Cuenta</h3>
          <p>Habilita todas las funciones</p>
        </div>
      </div>

      <!-- Sección de Recarga -->
      <div id="recharge-section" style="display: none; margin-top: 30px;">
        <h3><i class="fas fa-money-bill-transfer"></i> Recargar Saldo</h3>
        <div class="message info">
          <p>Envía fondos a la siguiente dirección LTC (LITECOIN) :</p>
        </div>
        
        <div class="wallet-address">
          Ld3NKuJKpnWW76sw9zwNN9cd3Ax6itCwmA
          <button class="copy-btn" id="copy-address">
            <i class="fas fa-copy"></i> Copiar
          </button>
        </div>
        
        <div class="message warning">
          <p>⚠️ <strong>Esperando fondos:</strong> Una vez que hayas enviado los fondos, presiona "Activar Cuenta" para verificar la transacción.</p>
        </div>
        
        <button class="btn btn-danger" id="cancel-recharge">
          <i class="fas fa-times"></i> Cerrar
        </button>
      </div>

      <!-- Sección de Activación -->
      <div id="activation-section" style="display: none; margin-top: 30px;">
        <div class="activation-process">
          <h3><i class="fas fa-cogs"></i> Activación de Cuenta</h3>
          <div id="activation-message" class="message warning">
            <p>Estamos verificando fondos, una vez tengamos la confirmación la cuenta estará activa y podrás disfrutar de la shop FradCard.</p>
          </div>
          
          <div id="activation-success" style="display: none;">
            <div class="message success">
              <p>¡Felicidades! Tu cuenta ha sido activada correctamente.</p>
            </div>
            <div class="support-info">
              <h3><i class="fas fa-headset"></i> Soporte 24/7 - Tarjetas de Primera Mano</h3>
              <p>Ahora puedes disfrutar de todos los beneficios de FradCard Shop.</p>
            </div>
          </div>
          
          <div id="activation-failure" style="display: none;">
            <div class="message error">
              <p>No se detectaron fondos. La cuenta ha quedado desactivada. Por favor, recarga tu wallet e intenta nuevamente.</p>
            </div>
          </div>
          
          <button class="btn" id="confirm-activation">
            <i class="fas fa-check-circle"></i> Verificar Fondos
          </button>
          <button class="btn btn-danger" id="cancel-activation">
            <i class="fas fa-times"></i> Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Ocultar preloader después de 5 segundos
    setTimeout(() => {
      document.getElementById('preloader').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('preloader').style.display = 'none';
      }, 500);
    }, 5000);

    // Elementos DOM
    const authSystem = document.getElementById('auth-system');
    const dashboard = document.getElementById('dashboard');
    const authInner = document.getElementById('auth-inner');
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    const switchToRegister = document.getElementById('switch-to-register');
    const switchToLogin = document.getElementById('switch-to-login');
    const authMessage = document.getElementById('auth-message');
    const logoutBtn = document.getElementById('logout-btn');
    const walletBalance = document.getElementById('wallet-balance');
    const rechargeBtn = document.getElementById('recharge-btn');
    const activateAccountBtn = document.getElementById('activate-account-btn');
    const rechargeSection = document.getElementById('recharge-section');
    const cancelRecharge = document.getElementById('cancel-recharge');
    const copyAddressBtn = document.getElementById('copy-address');
    const activationSection = document.getElementById('activation-section');
    const confirmActivation = document.getElementById('confirm-activation');
    const cancelActivation = document.getElementById('cancel-activation');
    const activationMessage = document.getElementById('activation-message');
    const activationSuccess = document.getElementById('activation-success');
    const activationFailure = document.getElementById('activation-failure');
    const accountStatus = document.getElementById('account-status');
    const statusText = document.getElementById('status-text');
    const activeStatus = document.getElementById('active-status');

    // Estado de la aplicación
    let currentUser = null;
    let users = JSON.parse(localStorage.getItem('users')) || [];
    
    // Inicializar
    function init() {
      // Verificar si hay usuario logueado
      const loggedInUser = localStorage.getItem('currentUser');
      if (loggedInUser) {
        currentUser = JSON.parse(loggedInUser);
        showDashboard();
        updateAccountStatus();
      }
      
      // Configurar event listeners
      setupEventListeners();
    }
    
    // Configurar event listeners
    function setupEventListeners() {
      // Alternar entre login y registro
      switchToRegister.addEventListener('click', () => {
        authInner.classList.add('flipped');
      });
      
      switchToLogin.addEventListener('click', () => {
        authInner.classList.remove('flipped');
      });
      
      // Envío del formulario de login
      loginForm.addEventListener('submit', handleLogin);
      
      // Envío del formulario de registro
      registerForm.addEventListener('submit', handleRegister);
      
      // Cerrar sesión
      logoutBtn.addEventListener('click', logout);
      
      // Botones del dashboard
      rechargeBtn.addEventListener('click', showRechargeSection);
      activateAccountBtn.addEventListener('click', showActivationSection);
      
      // Botones de recarga
      cancelRecharge.addEventListener('click', hideRechargeSection);
      copyAddressBtn.addEventListener('click', copyWalletAddress);
      
      // Botones de activación
      confirmActivation.addEventListener('click', processActivation);
      cancelActivation.addEventListener('click', hideActivationSection);
    }
    
    // Manejar login
    function handleLogin(e) {
      e.preventDefault();
      
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      
      // Intentar login
      const user = users.find(u => u.email === email && u.password === password);
      if (user) {
        currentUser = user;
        localStorage.setItem('currentUser', JSON.stringify(user));
        showDashboard();
        updateAccountStatus();
      } else {
        showMessage('Credenciales incorrectas', 'error');
      }
    }
    
    // Manejar registro
    function handleRegister(e) {
      e.preventDefault();
      
      const email = document.getElementById('register-email').value;
      const password = document.getElementById('register-password').value;
      const confirm = document.getElementById('register-confirm').value;
      
      // Validar contraseñas
      if (password !== confirm) {
        showMessage('Las contraseñas no coinciden', 'error');
        return;
      }
      
      // Intentar registro
      const existingUser = users.find(u => u.email === email);
      if (existingUser) {
        showMessage('Este correo ya está registrado', 'error');
      } else {
        const newUser = {
          email,
          password,
          balance: 0,
          isActive: false,
          hasTriedActivation: false,
          createdAt: new Date().toISOString()
        };
        
        users.push(newUser);
        localStorage.setItem('users', JSON.stringify(users));
        
        currentUser = newUser;
        localStorage.setItem('currentUser', JSON.stringify(newUser));
        
        showMessage('Registro exitoso. Bienvenido!', 'success');
        setTimeout(() => {
          showDashboard();
          updateAccountStatus();
        }, 1500);
      }
    }
    
    // Cerrar sesión
    function logout() {
      currentUser = null;
      localStorage.removeItem('currentUser');
      showAuthSystem();
    }
    
    // Mostrar mensajes
    function showMessage(text, type) {
      authMessage.textContent = text;
      authMessage.className = `message ${type}`;
      authMessage.style.display = 'block';
    }
    
    // Mostrar sistema de autenticación
    function showAuthSystem() {
      authSystem.style.display = 'block';
      dashboard.style.display = 'none';
      loginForm.reset();
      registerForm.reset();
      authMessage.style.display = 'none';
    }
    
    // Mostrar dashboard
    function showDashboard() {
      authSystem.style.display = 'none';
      dashboard.style.display = 'block';
      hideRechargeSection();
      hideActivationSection();
      
      // Actualizar saldo
      if (currentUser) {
        walletBalance.textContent = `$${currentUser.balance.toFixed(2)}`;
      }
    }
    
    // Actualizar estado de la cuenta
    function updateAccountStatus() {
      if (!currentUser) return;
      
      if (currentUser.isActive) {
        accountStatus.className = 'status-indicator status-active';
        statusText.textContent = 'Cuenta Activada';
        activeStatus.style.display = 'block';
      } else {
        accountStatus.className = 'status-indicator status-inactive';
        statusText.textContent = 'Cuenta Inactiva';
        activeStatus.style.display = 'none';
      }
    }
    
    // Mostrar sección de recarga
    function showRechargeSection() {
      rechargeSection.style.display = 'block';
      hideActivationSection();
    }
    
    // Ocultar sección de recarga
    function hideRechargeSection() {
      rechargeSection.style.display = 'none';
    }
    
    // Copiar dirección de wallet
    function copyWalletAddress() {
      navigator.clipboard.writeText("Ld3NKuJKpnWW76sw9zwNN9cd3Ax6itCwmA")
        .then(() => {
          alert('Dirección copiada al portapapeles');
        })
        .catch(err => {
          console.error('Error al copiar: ', err);
        });
    }
    
    // Mostrar sección de activación
    function showActivationSection() {
      activationSection.style.display = 'block';
      rechargeSection.style.display = 'none';
      
      // Reiniciar mensajes de activación
      activationSuccess.style.display = 'none';
      activationFailure.style.display = 'none';
      activationMessage.style.display = 'block';
    }
    
    // Ocultar sección de activación
    function hideActivationSection() {
      activationSection.style.display = 'none';
    }
    
    // Procesar activación de cuenta
    function processActivation() {
      // Simular verificación de fondos (en una app real, esto se conectaría a una API de blockchain)
      const hasFunds = Math.random() > 0.5; // 50% de probabilidad de tener fondos
      
      if (hasFunds) {
        // Activación exitosa
        activationMessage.style.display = 'none';
        activationSuccess.style.display = 'block';
        activationFailure.style.display = 'none';
        
        // Actualizar estado del usuario
        currentUser.isActive = true;
        currentUser.balance += 100; // Añadir saldo como ejemplo
        
        // Actualizar en localStorage
        const userIndex = users.findIndex(u => u.email === currentUser.email);
        if (userIndex !== -1) {
          users[userIndex] = currentUser;
          localStorage.setItem('users', JSON.stringify(users));
          localStorage.setItem('currentUser', JSON.stringify(currentUser));
        }
        
        // Actualizar UI
        walletBalance.textContent = `$${currentUser.balance.toFixed(2)}`;
        updateAccountStatus();
      } else {
        // Activación fallida
        activationMessage.style.display = 'none';
        activationSuccess.style.display = 'none';
        activationFailure.style.display = 'block';
        
        // Marcar que el usuario intentó activar sin fondos
        currentUser.hasTriedActivation = true;
        
        // Actualizar en localStorage
        const userIndex = users.findIndex(u => u.email === currentUser.email);
        if (userIndex !== -1) {
          users[userIndex] = currentUser;
          localStorage.setItem('users', JSON.stringify(users));
          localStorage.setItem('currentUser', JSON.stringify(currentUser));
        }
      }
    }
    
    // Inicializar la aplicación
    init();
  </script>
</body>
</html>